<x-frontend-layout :pageTitle="'Sell Equipment'">
    <section class="bg-white py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Sell Your Kitchen Equipment</h1>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                    Turn your unused commercial kitchen equipment into cash. We offer fair prices and a hassle-free
                    selling process.
                </p>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="py-16 bg-white my-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-2xl md:text-3xl font-bold text-gray-900 mb-4">Our Simple Selling Process</h2>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                    We make selling your used kitchen equipment straightforward and rewarding
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-gray-50 rounded-lg p-8 text-center shadow-sm">
                    <div class="bg-primary rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-6">
                        <span class="text-white text-2xl font-bold">1</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Contact Us</h3>
                    <p class="text-gray-600">
                        Fill out our form with details about your equipment or call us directly to discuss what you're
                        selling.
                    </p>
                </div>

                <div class="bg-gray-50 rounded-lg p-8 text-center shadow-sm">
                    <div class="bg-primary rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-6">
                        <span class="text-white text-2xl font-bold">2</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Get an Evaluation</h3>
                    <p class="text-gray-600">
                        Our experts will assess your equipment and provide a fair market value quote based on condition
                        and demand.
                    </p>
                </div>

                <div class="bg-gray-50 rounded-lg p-8 text-center shadow-sm">
                    <div class="bg-primary rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-6">
                        <span class="text-white text-2xl font-bold">3</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Get Paid</h3>
                    <p class="text-gray-600">
                        Accept our offer and receive payment promptly. We handle pickup and transportation of the
                        equipment.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Equipment We Buy Section -->
    <section class="py-16 bg-white my-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-2xl md:text-3xl font-bold text-gray-900 mb-4">Equipment We Buy</h2>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                    We purchase a wide range of commercial kitchen equipment in working or repairable condition
                </p>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                <div
                    class="g-white p-6 rounded-lg shadow-md transition-transform duration-300 hover:shadow-xl hover:-translate-y-2">
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">Cooking Equipment</h3>
                    <ul class="text-gray-600 space-y-2">
                        <li>• Commercial Ranges & Ovens</li>
                        <li>• Fryers & Griddles</li>
                        <li>• Steamers & Broilers</li>
                        <li>• Convection Ovens</li>
                        <li>• Char-broilers & Grills</li>
                    </ul>
                </div>

                <div
                    class="g-white p-6 rounded-lg shadow-md transition-transform duration-300 hover:shadow-xl hover:-translate-y-2">
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">Refrigeration</h3>
                    <ul class="text-gray-600 space-y-2">
                        <li>• Walk-in Coolers & Freezers</li>
                        <li>• Reach-in Refrigerators</li>
                        <li>• Prep Tables</li>
                        <li>• Ice Machines</li>
                        <li>• Beverage Coolers</li>
                    </ul>
                </div>

                <div
                    class="g-white p-6 rounded-lg shadow-md transition-transform duration-300 hover:shadow-xl hover:-translate-y-2">
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">Food Preparation</h3>
                    <ul class="text-gray-600 space-y-2">
                        <li>• Mixers & Slicers</li>
                        <li>• Food Processors</li>
                        <li>• Prep Tables</li>
                        <li>• Scales</li>
                        <li>• Prep Sinks</li>
                    </ul>
                </div>

                <div
                    class="g-white p-6 rounded-lg shadow-md transition-transform duration-300 hover:shadow-xl hover:-translate-y-2">
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">Dishwashing</h3>
                    <ul class="text-gray-600 space-y-2">
                        <li>• Commercial Dishwashers</li>
                        <li>• Glass Washers</li>
                        <li>• Dish Tables</li>
                        <li>• Sinks & Faucets</li>
                        <li>• Waste Disposers</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Sell Equipment Form Section -->
    <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <div class="bg-gray-50 rounded-lg p-8 shadow-sm">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">Why Sell to Us?</h2>

                    <div class="space-y-6">
                        <div class="flex items-start">
                            <div class="bg-primary rounded-full p-3 mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold text-gray-900 mb-1">Fair Market Value</h3>
                                <p class="text-gray-600">We provide competitive offers based on current market rates and
                                    equipment condition.</p>
                            </div>
                        </div>

                        <div class="flex items-start">
                            <div class="bg-primary rounded-full p-3 mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold text-gray-900 mb-1">Fast Process</h3>
                                <p class="text-gray-600">From evaluation to payment, we work efficiently to complete the
                                    transaction quickly.</p>
                            </div>
                        </div>

                        <div class="flex items-start">
                            <div class="bg-primary rounded-full p-3 mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" />
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold text-gray-900 mb-1">Free Pickup</h3>
                                <p class="text-gray-600">We handle all logistics including disassembly and
                                    transportation at no cost to you.</p>
                            </div>
                        </div>

                        <div class="flex items-start">
                            <div class="bg-primary rounded-full p-3 mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold text-gray-900 mb-1">Professional Service</h3>
                                <p class="text-gray-600">Our experienced team ensures a smooth, respectful, and
                                    hassle-free transaction.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Equipment Submission Form -->
                <div class="bg-white rounded-lg p-8 shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">Submit Your Equipment Details</h2>

                    <form class="space-y-4" action="{{ route('sell-equipment.store') }}" method="POST"
                        enctype="multipart/form-data">
                        @method('POST')
                        @csrf
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Your Name
                                    <span class="text-red-500">*</span></label>
                                <input type="text" id="name" name="name"
                                    class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary">
                                @error('name')
                                    <span class="text-red-500 text-sm mt-1 block">{{ $message }}</span>
                                @enderror
                            </div>
                            <div>
                                <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone
                                    Number <span class="text-red-500">*</span></label>
                                <input type="tel" id="phone" name="phone"
                                    class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary">
                                @error('phone')
                                    <span class="text-red-500 text-sm mt-1 block">{{ $message }}</span>
                                @enderror
                            </div>
                        </div>

                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email
                                Address<span class="text-red-500">*</span></label>
                            <input type="email" id="email" name="email"
                                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary">
                            @error('email')
                                <span class="text-red-500 text-sm mt-1 block">{{ $message }}</span>
                            @enderror
                        </div>

                        <div>
                            <label for="equipment-type" class="block text-sm font-medium text-gray-700 mb-1">Equipment
                                Type <span class="text-red-500">*</span></label>
                            <select id="equipment-type" name="equipmentType"
                                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary">
                                <option value="" selected disabled>Select equipment category</option>
                                @foreach ($categories as $category)
                                    <option value="{{ $category->title }}">{{ $category->title }}</option>
                                @endforeach
                            </select>
                            @error('equipmentType')
                                <span class="text-red-500 text-sm mt-1 block">{{ $message }}</span>
                            @enderror
                        </div>

                        <div>
                            <label for="equipment-name" class="block text-sm font-medium text-gray-700 mb-1">Equipment
                                Name <span class="text-red-500">*</span></label>
                            <input type="text" id="equipment-name" name="equipmentName"
                                placeholder="Brand, Model, Size, etc."
                                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary">
                            @error('equipmentName')
                                <span class="text-red-500 text-sm mt-1 block">{{ $message }}</span>
                            @enderror
                        </div>

                        <div>
                            <label for="condition" class="block text-sm font-medium text-gray-700 mb-1">Condition
                                <span class="text-red-500">*</span></label>
                            <select id="condition" name="equipmentCondition"
                                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary">
                                <option value="" selected disabled>Select condition</option>
                                <option value="like-new">Like New</option>
                                <option value="excellent">Excellent</option>
                                <option value="good">Good</option>
                                <option value="fair">Fair</option>
                                <option value="needs-repair">Needs Repair</option>
                                <option value="parts-only">For Parts Only</option>
                            </select>
                            @error('equipmentCondition')
                                <span class="text-red-500 text-sm mt-1 block">{{ $message }}</span>
                            @enderror
                        </div>
                        <div>
                            <label for="images" class="block text-sm font-medium text-gray-700 mb-1">
                                Upload Photos <span class="text-red-500">*</span>
                            </label>
                            <input type="file" id="images" name="images[]" multiple accept="image/*"
                                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary">
                            <p id="helper-text" class="text-sm text-gray-500 mt-1">You can upload up to 5 images (JPG,
                                PNG)</p>
                            <p id="error-message" class="text-sm text-red-500 mt-1 hidden">You can only upload up to 5
                                images (JPG, PNG).</p>

                            @error('images')
                                <span class="text-red-500 text-sm mt-1 block">{{ $message }}</span>
                            @enderror

                            @php
                                $imageErrors = $errors->get('images.*') ?? [];
                                $flattened = array_unique(
                                    array_reduce(
                                        $imageErrors,
                                        function ($carry, $item) {
                                            return array_merge($carry, $item);
                                        },
                                        [],
                                    ),
                                );
                            @endphp

                            @foreach ($flattened as $message)
                                <span class="text-red-500 text-sm mt-1 block">{{ $message }}</span>
                            @endforeach
                        </div>

                        <!-- Preview container -->
                        <div id="preview" class="hidden flex items-center justify-center flex-wrap gap-2 mt-4">
                        </div>

                        <div>
                            <button type="submit"
                                class="w-full bg-primary hover:bg-hover-primary text-white font-medium py-3 px-6 rounded-md transition-colors duration-300">
                                Submit for Evaluation
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
    @section('scripts')
        <script>
            const input = document.getElementById('images');
            const preview = document.getElementById('preview');
            const errorMessage = document.getElementById('error-message');
            const healperText = document.getElementById('helper-text');

            input.addEventListener('change', function() {
                const files = Array.from(this.files);

                // Clear previous previews and error
                preview.innerHTML = '';
                errorMessage.classList.add('hidden');

                if (files.length > 5) {
                    healperText.classList.add('hidden');
                    errorMessage.classList.remove('hidden');
                    input.value = ''; // clear selected files
                    return;
                }

                preview.classList.remove('hidden');
                files.forEach(file => {
                    if (!file.type.startsWith('image/')) return;

                    const reader = new FileReader();

                    reader.onload = function(e) {
                        const img = document.createElement('img');
                        img.src = e.target.result;
                        img.className = 'h-16 object-cover rounded-md';
                        preview.appendChild(img);
                    };

                    reader.readAsDataURL(file);
                });
            });
        </script>
    @endsection

</x-frontend-layout>
